# UI_MVP2_SPEC

- 버전: v1.0
- 날짜: 2026-02-28
- 범위: MVP-2 UI 화면 및 동작

## 1. 목표
MVP-2에서 사용자 여정(검색 -> 지도/리스트 -> 단지 상세)을 완성한다.

## 2. 디자인 원칙
1. Trust First: 데이터 출처/기준일/최종 업데이트를 항상 노출
2. Map-Centric: 지도 중심 탐색 루프를 기본 동작으로 채택
3. Conversion Lane: 상세에서 CTA(관심/알림/문의 placeholder) 고정
4. Fast Feedback: 로딩/빈상태/오류 상태를 명확히 분리

## 3. 화면 명세

### 3.1 홈 / 검색 + 지도
경로: `/`

필수 UI 블록:
1. 검색 바(`q`)
2. 필터 바(`region`, `min_price`, `max_price`)
3. 지도 뷰(마커, pan/zoom)
4. 결과 요약 배지(`N개 결과`, `마지막 갱신`)
5. 출처 라벨(`국토교통부 실거래가 기반`)

동작:
1. 검색 실행 시 지도/리스트 동시 갱신
2. 지도 pan/zoom 이후 300~500ms debounce 재검색
3. 필터 상태를 URL query와 동기화

빈상태/오류:
1. Empty: "조건에 맞는 단지가 없습니다"
2. Error: 재시도 버튼 + 오류 코드 표시

### 3.2 검색 결과 리스트 (Desktop 우측 패널 / Mobile 하단 시트)

항목 필수 정보:
1. 단지명
2. 법정동/지역
3. 최근 거래가
4. 최근 거래일
5. 관심등록 버튼(placeholder)

상호작용:
1. 항목 클릭 시 상세 이동(`/complexes/:id`)
2. hover/tap 시 지도 마커 하이라이트

### 3.3 단지 상세
경로: `/complexes/[id]`

필수 섹션:
1. 헤더: 단지명 + 위치 + 최종 업데이트
2. 신뢰 영역: 데이터 출처/기준일
3. 요약 지표:
   - 최근 거래가
   - 최근 3개월 거래량
   - 평형별 최근가(최소 2~3 band)
4. 최근 거래 히스토리 리스트
5. CTA 고정:
   - 관심단지(placeholder)
   - 알림받기(placeholder)
   - 문의하기(placeholder)

빈상태/오류:
1. 거래 데이터 없음 안내
2. API 실패 시 fallback 문구 + 재시도

## 4. Top-tier 매핑(현재 반영)
1. 네이버형 신뢰 라벨:
   - 출처 + 마지막 갱신 노출
2. 호갱노노형 깊이(최소판):
   - 최근가 + 3개월 거래량 + 평형 최근가
3. 다방형 지도 루프:
   - 지도 이동 즉시 재검색
4. 직방형 전환 동선:
   - 상세 CTA 고정

## 5. 반응형 규칙
1. Desktop(>=1024px)
   - 좌: 지도, 우: 리스트 패널
2. Tablet(768~1023px)
   - 지도 우선, 리스트 토글
3. Mobile(<768px)
   - 지도 + 하단 sheet 리스트
   - 상세 CTA 하단 고정 바

## 6. 성능 예산
1. 초기 로드 JS <= 250KB (MVP 목표)
2. 지도 query debounce 300~500ms
3. API p95 목표:
   - map < 500ms
   - search < 700ms

## 7. 인수 조건(Acceptance Criteria)
1. `/`에서 검색/지도/리스트 동기화 동작
2. `/complexes/:id`에서 지표/히스토리/CTA 확인 가능
3. 모든 화면에서 신뢰 라벨 + 최종 업데이트 표시
4. 로딩/빈상태/오류 UI 존재

